/* Force immediate button responses */
button, .btn-optimized, [role="button"] {
  transition: none !important;
  transition-delay: 0ms !important;
  transition-duration: 0ms !important;
  animation-duration: 0ms !important;
  transform: translateZ(0);
  will-change: auto;
  backface-visibility: hidden;
}

button:active, .btn-optimized:active, [role="button"]:active {
  transform: scale(0.98) translateZ(0);
}

.no-delay {
  transition: none !important;
  animation: none !important;
}

/* Reduce paint complexity */
* {
  box-sizing: border-box;
}

/* Optimize transforms */
.transform-optimized {
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* Override all button transitions globally */
button, input[type="button"], input[type="submit"], [type="button"] {
  -webkit-tap-highlight-color: transparent !important;
  touch-action: manipulation !important;
  transition: none !important;
  animation: none !important;
  pointer-events: auto !important;
}

/* Disable hover delays */
*:hover {
  transition: none !important;
}

/* Remove unnecessary transitions during development */
.transition-none-dev {
  transition: none !important;
  animation: none !important;
}

/* Optimize scroll performance */
.scroll-optimized {
  -webkit-overflow-scrolling: touch;
  overflow-x: hidden;
  overflow-y: auto;
}

/* Reduce repaints */
.contain-layout {
  contain: layout style paint;
}

/* Performance critical animations */
@keyframes fade-in-fast {
  from { opacity: 0; }
  to { opacity: 1; }
}

.fade-in-fast {
  animation: fade-in-fast 100ms ease-out;
}

/* Mobile optimization utilities */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Touch optimization for mobile */
.touch-action-none {
  touch-action: none;
}

.touch-action-pan-x {
  touch-action: pan-x;
}

.touch-action-pan-y {
  touch-action: pan-y;
}

/* Mobile-friendly tap targets */
.tap-target {
  min-height: 44px;
  min-width: 44px;
}

/* High-performance sidebar animations */
.sidebar-closed {
  transform: translate3d(-100%, 0, 0) !important;
  transition: transform 120ms cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.sidebar-open {
  transform: translate3d(0, 0, 0) !important;
  transition: transform 120ms cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.sidebar-container {
  will-change: transform;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  perspective: 1000px;
  -webkit-perspective: 1000px;
}

/* Ensure sidebar maintains proper styling - force dark theme colors */
#mobile-sidebar {
  background-color: black !important;
}

#mobile-sidebar .w-full.h-full.flex.flex-col {
  background-color: black !important;
}

.sidebar-container > div {
  background-color: black !important;
}

/* Dark mode sidebar styling */
.dark #mobile-sidebar {
  background-color: #374151 !important;
}

.dark #mobile-sidebar .w-full.h-full.flex.flex-col {
  background-color: #374151 !important;
}

.dark .sidebar-container > div {
  background-color: #374151 !important;
}

/* Dynamic sidebar width based on expansion state */
.sidebar-width {
  width: 6rem; /* w-24 collapsed */
  transition: width 300ms ease-in-out;
  height: 100vh;
  overflow: hidden;
}

.sidebar-width.expanded {
  width: 16rem; /* w-64 expanded */
}

@media (max-width: 768px) {
  .sidebar-width {
    width: 16rem !important; /* Always full width on mobile */
  }
}

/* Ensure sidebar content fits screen height without scrolling */
#mobile-sidebar {
  max-height: 100vh !important;
  height: 100vh !important;
  overflow: hidden !important;
}

#mobile-sidebar .w-full.h-screen.flex.flex-col {
  height: 100vh !important;
  max-height: 100vh !important;
  overflow: hidden !important;
}

/* Force navigation container to fit within remaining space */
#mobile-sidebar nav {
  flex: 1 !important;
  overflow: hidden !important;
  max-height: calc(100vh - 120px) !important;
  min-height: calc(100vh - 120px) !important;
}

#mobile-sidebar nav ul {
  height: 100% !important;
  overflow: hidden !important;
  display: flex !important;
  flex-direction: column !important;
  justify-content: space-evenly !important;
}

/* Force sidebar to never scroll */
#mobile-sidebar {
  overflow-y: hidden !important;
  overflow-x: hidden !important;
}

#mobile-sidebar * {
  overflow: visible !important;
}

/* Hide any potential scrollbars */
#mobile-sidebar::-webkit-scrollbar {
  display: none !important;
}

#mobile-sidebar {
  -ms-overflow-style: none !important;
  scrollbar-width: none !important;
}

/* Disable transitions during resize */
.resize-animation-stopper * {
  animation-duration: 0s !important;
  animation-delay: 0s !important;
  transition-duration: 0s !important;
  transition-delay: 0s !important;
}